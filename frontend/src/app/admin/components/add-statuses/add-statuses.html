<div class="add-status card p-4">
  <h4>Add New Status</h4>

  <form [formGroup]="statusForm" (ngSubmit)="onSubmit()" class="mb-4">
    <div class="mb-3">
      <label for="name" class="form-label">Status Name</label>
      <input
        id="name"
        type="text"
        class="form-control"
        formControlName="name"
        [class.is-invalid]="statusForm.get('name')?.invalid && statusForm.get('name')?.touched"
        placeholder="Enter the status name..."
      />
      <div
        class="invalid-feedback"
        *ngIf="statusForm.get('name')?.invalid && statusForm.get('name')?.touched"
      >
        <div *ngIf="statusForm.get('name')?.errors?.['required']">
          The status name is required.
        </div>
        <div *ngIf="statusForm.get('name')?.errors?.['minlength']">
          Status name must be at least 2 characters.
        </div>
      </div>
    </div>

    <button
      class="btn btn-success"
      type="submit"
      [disabled]="statusForm.invalid"
    >
      <i class="fas fa-plus me-2"></i>Add
    </button>
  </form>

  <hr />

  <h5>Available Statuses</h5>

  <div *ngIf="statuses$ | async as statuses; else noStatuses">
    <div *ngIf="statuses.length > 0; else emptyStatuses">
      <ul class="list-group">
        <li
          class="list-group-item d-flex justify-content-between align-items-center"
          *ngFor="let status of statuses"
        >
          <span>
            <i class="fas fa-status me-2 text-primary"></i>
            {{ status.name }}
          </span>
          <span class="badge bg-secondary rounded-pill">{{ status.id }}</span>
        </li>
      </ul>
    </div>

    <ng-template #emptyStatuses>
      <div class="alert alert-info">
        <i class="fas fa-info-circle me-2"></i>
        There are no statuses yet.
      </div>
    </ng-template>
  </div>

  <ng-template #noStatuses>
    <div class="d-flex justify-content-center">
      <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
    </div>
  </ng-template>
</div>
<div>
  <button type="button" class="btn btn-go-back btn-success" (click)="goBack()">
    Go Back
  </button>
</div>
